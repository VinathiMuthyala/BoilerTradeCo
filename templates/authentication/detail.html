<!-- {% block title %}{{ product.name }}{% endblock %} -->
{% load static %}

{% block content %}
<style>
    .container {
        display: flex;
        justify-content: center;
        margin-top: 25vh;
    }
    .grid {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        background-color: #fff9c4; 
        padding: 5%; 
        border-radius: 5%; 
    }

    .col-span-3 {
        margin-right: 20px; 
    }

    img {
        max-width: 100%;
        height: auto;
    }

    .product-info {
        width: 100%; 
    }

    .button-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }

    @media (max-width: 768px) {
        .grid {
            flex-direction: column; /* Stack items vertically on small screens */
        }

        .col-span-3 {
            margin-right: 0; /* Reset margin for smaller screens */
            margin-bottom: 20px; /* Add margin at bottom for better spacing */
        }
    }



    /* Style the popup */
    .smpopup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #f9f9f9;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        z-index: 1;
    }

        .icon {
            height: 20px;
            width: auto;
        }

        /* Style the buttons in the popup */
        .smpopup button {
            background-color: #ffd700;
            color: white;
            padding: 10px 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-right: 15px; /* Increased margin */
            margin-bottom: 10px; /* Added margin between buttons */
        }

    button {
        background-color: rgb(189, 179, 179);
        color: white;
        padding: 10px 20px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
    }

    /* Style the popup */
     .smpopup {
        display: none;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background-color: #f9f9f9;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        z-index: 1;
    }

        .icon {
            height: 20px;
            width: auto;
        }

        /* Style the buttons in the popup */
        .smpopup button {
            background-color: #ffd700;
            color: white;
            padding: 10px 10px;
            font-size: 16px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            margin-right: 15px; /* Increased margin */
            margin-bottom: 10px; /* Added margin between buttons */
        }

</style>

<div class="container">
    <div class="grid grid-cols-5 gap-6">
        <div class="col-span-3">
            <h2>{{ product.name }}</h2>
            <img src="{{ product.image.url }}" alt="product_image" class="rounded-xl">
        </div>
    
        <div class="col-span-2">
            <p>Price: ${{ product.price }}</p>
            <p>Quality: {{ product.quality_tag }}</p>
            <p>Category: {{ product.category_tag }}</p>
            <p>Seller: {{ product.seller_email }}</p>
            <p>Date Posted: {{ product.date_posted }}</p>
        </div>
    </div>
</div>  

<div class="button-container">
    {% if request.user == product.seller_email %}
    <div class="mt-6 p-6 bg-white rounded-xl">
        <a href="{% url 'delete' id %}" class="inline-block mt-6 px-6 py-3 text-lg font-semibold bg-red-500 text-white rounded-xl">Delete</a>
    </div>
    {% else %}
        <a href="#" class="inline-block mt-6 px-6 py-3 text-lg font-semibold bg-teal-500 text-white rounded-xl hover:bg-teal-700">Contact seller</a>
    {% endif %}
</div>


<!-- Button to open the popup -->
<button onclick="openPopupForSocial()"> Share on Social Media </button>
<button onclick="openPopupForMessages()"> Share via Messages</button>

<div id="smpopup" class="smpopup">
<p>Copy/paste and share:</p>
<textarea id="sample-text" rows="4" cols="50">Hey! It's {{ firstname }}! You need to check out this couch selling on BoilerTradeCo! Head over and create an account now :3 https://boiler-trade-co-d5c7c21c59ec.herokuapp.com/ </textarea>
<br>
<button onclick="copyText()">Copy Text</button>
<button onclick="redirectToInstagram()"> <img src="{% static 'instagram.png' %}"  alt="Edit Icon" class="icon"> </button>
<button onclick="redirectToFacebook()"><img src="{% static 'facebook.png' %}"  alt="Edit Icon" class="icon"></button>
<button onclick="redirectToSnapchat()"> <img src="{% static 'snapchat.png' %}"  alt="Edit Icon" class="icon"></button>
<button onclick="closePopupForSocial()">Cancel</button>
</div>

<div id="mpopup" class="smpopup">
<p>Copy/paste and share:</p>
<textarea id="sample-text" rows="4" cols="50">Hey! It's {{ firstname }}! You need to check out this couch selling on BoilerTradeCo! Head over and create an account now :3 https://boiler-trade-co-d5c7c21c59ec.herokuapp.com/</textarea>
<br>
<button onclick="copyText()">Copy Text</button>
<button onclick="redirectToWhatsapp()"> <img src="{% static 'whatsapp.png' %}"  alt="Edit Icon" class="icon"> </button>
<button onclick="closePopupForMessages()">Cancel</button>
</div>



<script>
    function openPopup() {
        document.getElementById("overlay").style.display = "block";
        document.getElementById("popup").style.display = "block";
    }
    
    function closePopup() {
        document.getElementById("overlay").style.display = "none";
        document.getElementById("popup").style.display = "none";
    }
    
    function submitInterest() {
        closePopup();
        alert("Thank you for submitting your interest in this product. An email has been sent to the seller.");
    }

    function validateForm() {
        var buyerEmail = document.getElementById("buyerEmail").value;
        var sellerEmail = document.getElementById("sellerEmail").value;
        if (buyerEmail === "" || sellerEmail === "") {
            //alert("Please fill out all required fields.");
            return false;
        }
        return submitInterest();
    }
</script>



<script>
    // Function to open the popup
    function openPopupForSocial() {
        document.getElementById('smpopup').style.display = 'block';
    }

    function openPopupForMessages() {
        document.getElementById('mpopup').style.display = 'block';
    }

    // Function to copy the text to clipboard
    function copyText() {
        var copyText = document.getElementById("sample-text");
        copyText.select();
        copyText.setSelectionRange(0, 99999); /* For mobile devices */
        document.execCommand("copy");
        alert("Text copied to clipboard!");
    }

    // Function to close the popup
    function closePopupForSocial() {
        document.getElementById('smpopup').style.display = 'none';
    }

    function closePopupForMessages() {
        document.getElementById('mpopup').style.display = 'none';
    }

    // Function to redirect to Instagram
    function redirectToInstagram() {
        window.open('https://instagram.com', '_blank');
    }

    // Function to redirect to Facebook
    function redirectToFacebook() {
        window.open('https://facebook.com', '_blank');
    }

    // Function to redirect to Snapchat
    function redirectToSnapchat() {
        window.open('https://snapchat.com', '_blank');
    }

    // Function to redirect to Whatsapp
    function redirectToWhatsapp() {
        window.open('https://whatsapp.com', '_blank');
    }
</script>


{% endblock %}

